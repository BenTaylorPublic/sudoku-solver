!function i(n,a,l){function o(t,e){if(!a[t]){if(!n[t]){var s="function"==typeof require&&require;if(!e&&s)return s(t,!0);if(d)return d(t,!0);throw(s=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",s}s=a[t]={exports:{}},n[t][0].call(s.exports,function(e){return o(n[t][1][e]||e)},s,s.exports,i,n,a,l)}return a[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)o(l[e]);return o}({1:[function(e,t,s){"use strict";var l=this&&this.__awaiter||function(e,l,o,d){return new(o=o||Promise)(function(s,t){function i(e){try{a(d.next(e))}catch(e){t(e)}}function n(e){try{a(d.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?s(e.value):((t=e.value)instanceof o?t:new o(function(e){e(t)})).then(i,n)}a((d=d.apply(e,l||[])).next())})};Object.defineProperty(s,"__esModule",{value:!0});const o=e("./shared/sudoku-state"),i=e("./shared/algorithms/depth-first"),r=e("./shared/enums"),d=e("./shared/predefined-states"),n=e("./shared/algorithms/breadth-first"),a=e("./shared/algorithms/logical");class c{static initialize(){this.startButton=document.getElementById("startButton"),this.startButton.onclick=this.start.bind(this),this.resetButton=document.getElementById("resetButton"),this.resetButton.onclick=this.reset.bind(this),this.stepButton=document.getElementById("stepButton"),this.stepButton.onclick=this.manualStep.bind(this),this.runTypeSelect=document.getElementById("runType"),this.runTypeSelect.onchange=this.runTypeChange.bind(this),this.algorithmSelect=document.getElementById("algorithm"),this.inputX=document.getElementById("inputX"),this.inputX.onchange=this.validate.bind(this),this.predefinedStatesSelect=document.getElementById("predefinedStates"),this.predefinedStatesSelect.onchange=this.predefinedStatesChange.bind(this),this.statsDiv=document.getElementById("stats"),this.runForeverStatsDiv=document.getElementById("runForeverStats"),this.runForeverCheckbox=document.getElementById("runForeverCheckbox"),this.createPredefinedStatesOptions(),this.createEntryInputs(),this.validate(),this.createVisualizationDivs()}static createPredefinedStatesOptions(){var t=d.PredefinedStates.getStates();for(let e=0;e<t.length;e++){var s=t[e];const i=document.createElement("option");i.value=s.name,i.innerText=s.name,this.predefinedStatesSelect.appendChild(i)}}static createEntryInputs(){const e=document.getElementById("inputBoxes");for(let s=0;s<9;s++){const i=document.createElement("div");i.classList.add("row");let t=document.createElement("div");t.classList.add("verticalSection");for(let e=0;e<9;e++){const n=document.createElement("input");n.type="number",n.id=`i-${s}-${e}`,n.min="1",n.max="9",n.onkeyup=this.validate.bind(this),t.appendChild(n),2!==e&&5!==e||(i.appendChild(t),t=document.createElement("div"),t.classList.add("verticalSection"))}if(i.appendChild(t),e.appendChild(i),2===s||5===s){const a=document.createElement("div");a.classList.add("horizontalSection"),e.appendChild(a)}}}static validate(){const s=["1","2","3","4","5","6","7","8","9",""];for(let t=0;t<9;t++)for(let e=0;e<9;e++){var i=`i-${t}-${e}`,i=document.getElementById(i);if(!s.includes(i.value))return void(this.startButton.disabled=!0)}Number(this.inputX.value)<=0&&"manual"!==this.runTypeSelect.value?this.startButton.disabled=!0:this.startButton.disabled=!1}static createVisualizationDivs(){const e=document.getElementById("visualizationBoxes");for(let s=0;s<9;s++){const i=document.createElement("div");i.classList.add("row");let t=document.createElement("div");t.classList.add("verticalSection");for(let e=0;e<9;e++){const n=document.createElement("div");n.id=`v-${s}-${e}`,n.classList.add("vCell"),t.appendChild(n),2!==e&&5!==e||(i.appendChild(t),t=document.createElement("div"),t.classList.add("verticalSection"))}if(i.appendChild(t),e.appendChild(i),2===s||5===s){const a=document.createElement("div");a.classList.add("horizontalSection"),e.appendChild(a)}}}static predefinedStatesChange(){var t=this.predefinedStatesSelect.value,s=d.PredefinedStates.getStates();let i=null;for(let e=0;e<s.length;e++)if(s[e].name===t){i=s[e];break}null==i&&(i={name:"Empty",state:new o.SudokuState});for(let t=0;t<9;t++)for(let e=0;e<9;e++){var n=`i-${t}-${e}`;const a=document.getElementById(n),l=i.state.cells[t][e].value;null!=l?a.value=l.toString():a.value=""}this.validate()}static getAlgorithm(){var e=this.algorithmSelect.value;return new("depthFirst"===e?i.DepthFirst:"breadthFirst"===e?n.BreadthFirst:a.Logical)}static runTypeChange(){var e;"manual"===this.runTypeSelect.value?(null!==(e=this.inputX.parentElement)&&void 0!==e&&e.classList.add("displayNone"),this.runForeverCheckbox.checked=!1,null!==(e=this.runForeverCheckbox.parentElement)&&void 0!==e&&e.classList.add("displayNone")):(null!==(e=this.inputX.parentElement)&&void 0!==e&&e.classList.remove("displayNone"),null!==(e=this.runForeverCheckbox.parentElement)&&void 0!==e&&e.classList.remove("displayNone")),this.validate()}static reset(){var e;this.startButton.classList.remove("displayNone"),null!==(e=this.runTypeSelect.parentElement)&&void 0!==e&&e.classList.remove("displayNone"),null!==(e=this.inputX.parentElement)&&void 0!==e&&e.classList.remove("displayNone"),null!==(e=this.predefinedStatesSelect.parentElement)&&void 0!==e&&e.classList.remove("displayNone"),null!==(e=this.algorithmSelect.parentElement)&&void 0!==e&&e.classList.remove("displayNone"),null!==(e=this.runForeverCheckbox.parentElement)&&void 0!==e&&e.classList.remove("displayNone"),null!==(e=null===(e=document.getElementById("inputBoxes"))||void 0===e?void 0:e.parentElement)&&void 0!==e&&e.classList.remove("displayNone"),null!==(e=document.getElementById("visualization"))&&void 0!==e&&e.classList.add("displayNone"),null!==(e=document.getElementById("textOutput"))&&void 0!==e&&e.classList.add("displayNone"),this.resetButton.classList.add("displayNone"),null!==(e=this.runForeverStatsDiv.parentElement)&&void 0!==e&&e.classList.add("displayNone"),this.runForeverCheckbox.checked=!1,this.algorithmSelect.value="depthFirst",this.predefinedStatesSelect.value="default",this.runTypeSelect.value="autoStepDelay";for(let t=0;t<9;t++)for(let e=0;e<9;e++){var s=`i-${t}-${e}`;const i=document.getElementById(s);i.value=""}this.resetRequested=!0}static start(){this.startButton.classList.add("displayNone"),null!==(t=this.runTypeSelect.parentElement)&&void 0!==t&&t.classList.add("displayNone"),null!==(t=this.inputX.parentElement)&&void 0!==t&&t.classList.add("displayNone"),null!==(t=this.predefinedStatesSelect.parentElement)&&void 0!==t&&t.classList.add("displayNone"),null!==(t=this.algorithmSelect.parentElement)&&void 0!==t&&t.classList.add("displayNone"),null!==(t=this.runForeverCheckbox.parentElement)&&void 0!==t&&t.classList.add("displayNone"),null!==(t=null===(t=document.getElementById("inputBoxes"))||void 0===t?void 0:t.parentElement)&&void 0!==t&&t.classList.add("displayNone"),null!==(t=document.getElementById("visualization"))&&void 0!==t&&t.classList.remove("displayNone"),null!==(t=document.getElementById("textOutput"))&&void 0!==t&&t.classList.remove("displayNone"),this.resetButton.classList.remove("displayNone");const s=new o.SudokuState;for(let t=0;t<9;t++)for(let e=0;e<9;e++){var i=`i-${t}-${e}`,i=document.getElementById(i);""!==i.value&&s.setInitialValue(e,t,Number(i.value))}this.initialDraw(s);const e=document.getElementById("runType").value;var t=e[0].toUpperCase()+e.slice(1,e.length);this.algorithm=this.getAlgorithm();let n=`Algorithm: <span class="val">${this.algorithm.name}</span><br/>`;n+=`Run type: <span class="val">${t}</span>`;let a;"manual"===e?a=1:(a=Number(this.inputX.value),n+="<br/>","autoStepDelay"===e?n+=`Delay <span class="val">${a}ms</span> after every step`:n+=`Delay 1ms, after doing <span class="val">${a}</span> steps`);const l=document.getElementById("runParams");l.innerHTML=n,this.resetRequested=!1,this.runForeverCheckbox.checked?this.runForever(s,e,a):this.solvingLogic(s,e,a)}static runForever(o,d,r){var t;return l(this,void 0,void 0,function*(){null!==(t=this.runForeverStatsDiv.parentElement)&&void 0!==t&&t.classList.remove("displayNone");const i=[];for(;!this.resetRequested;){const a=new Date;yield this.solvingLogic(o,d,r);const l=new Date;var e=Math.round(l.getTime()-a.getTime())/1e3;i.push(e);let t=0,s=0;for(let e=0;e<i.length;e++)i[e]>t&&(t=i[e]),s+=i[e];var n=s/i.length,e=`Amount of runs: <span class="val">${i.length}</span><br/>`;e+=`Average run time: <span class="val">${n}s</span><br/>`,e+=`Longest run time: <span class="val">${t}s</span>`,this.runForeverStatsDiv.innerHTML=e}})}static solvingLogic(i,n,a){return l(this,void 0,void 0,function*(){if(this.startTime=new Date,this.algorithm.setup(i),"autoStepDelay"===n)for(var e,t=a;e=this.algorithm.step(),this.stepCount++,this.draw(e),yield this.delay(t),!(e.isSolved&&e.action===r.StepAction.Assigned||this.algorithm.givenUp||this.resetRequested););else if("autoStepGroupDraw"===n){var s=a;let e=0,t;for(;t=this.algorithm.step(),this.stepCount++,e++,e===s&&(e=0,this.draw(t),yield this.delay(1)),!(t.isSolved&&t.action===r.StepAction.Assigned||this.algorithm.givenUp||this.resetRequested););this.draw(t)}else"manual"===n&&this.stepButton.classList.remove("displayNone")})}static manualStep(){this.stepButton.disabled=!0;var e=this.algorithm.step();this.stepCount++,this.draw(e),e.isSolved||this.algorithm.givenUp?alert("End"):this.stepButton.disabled=!1}static draw(s){for(let t=0;t<9;t++)for(let e=0;e<9;e++){var i=`v-${t}-${e}`;const l=document.getElementById(i),o=s.cells[t][e];null==o.value?l.innerText="":l.innerText=o.value.toString(),o.locked?l.classList.add("locked"):l.classList.remove("locked"),l.classList.remove("assigned"),l.classList.remove("failedToAssign"),l.classList.remove("logicalFoundOption"),l.classList.remove("logicalFoundSecondOption")}if(null!=s.lastActionedCell){var e=`v-${s.lastActionedCell.y}-${s.lastActionedCell.x}`;const d=document.getElementById(e);s.action===r.StepAction.Assigned?d.classList.add("assigned"):s.action===r.StepAction.FailedToAssign?d.classList.add("failedToAssign"):s.action===r.StepAction.LogicalFoundOption?d.classList.add("logicalFoundOption"):s.action===r.StepAction.LogicalFoundSecondOption&&d.classList.add("logicalFoundSecondOption")}const t=new Date;e=Math.round(t.getTime()-this.startTime.getTime())/1e3;let n=`Steps: <span class="val">${this.stepCount}</span><br/>`;n+=`Duration: <span class="val">${e}s</span>`;for(let e=0;e<s.stats.length;e++){var a=s.stats[e];n+=`<br/>${a.name}: <span class="val">${a.value}</span>`}this.statsDiv.innerHTML=n}static initialDraw(s){for(let t=0;t<9;t++)for(let e=0;e<9;e++){var i=`v-${t}-${e}`;const n=document.getElementById(i),a=s.cells[t][e];null!=a.value&&(n.innerText=a.value.toString()),a.locked&&n.classList.add("locked")}}static delay(t){return l(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(()=>e(1),t))})}}c.stepCount=0,c.resetRequested=!1,c.initialize()},{"./shared/algorithms/breadth-first":void 0,"./shared/algorithms/depth-first":void 0,"./shared/algorithms/logical":void 0,"./shared/enums":void 0,"./shared/predefined-states":void 0,"./shared/sudoku-state":void 0}]},{},[1]);