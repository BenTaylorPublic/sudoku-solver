!function i(n,a,l){function d(e,t){if(!a[e]){if(!n[e]){var s="function"==typeof require&&require;if(!t&&s)return s(e,!0);if(o)return o(e,!0);throw(s=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",s}s=a[e]={exports:{}},n[e][0].call(s.exports,function(t){return d(n[e][1][t]||t)},s,s.exports,i,n,a,l)}return a[e].exports}for(var o="function"==typeof require&&require,t=0;t<l.length;t++)d(l[t]);return d}({1:[function(t,e,s){"use strict";var l=this&&this.__awaiter||function(t,l,d,o){return new(d=d||Promise)(function(s,e){function i(t){try{a(o.next(t))}catch(t){e(t)}}function n(t){try{a(o.throw(t))}catch(t){e(t)}}function a(t){var e;t.done?s(t.value):((e=t.value)instanceof d?e:new d(function(t){t(e)})).then(i,n)}a((o=o.apply(t,l||[])).next())})};Object.defineProperty(s,"__esModule",{value:!0});const d=t("./shared/sudoku-state"),i=t("./shared/algorithms/depth-first"),r=t("./shared/enums"),o=t("./shared/predefined-states"),n=t("./shared/algorithms/breadth-first");class a{static initialize(){this.startButton=document.getElementById("startButton"),this.startButton.onclick=this.start.bind(this),this.stepButton=document.getElementById("stepButton"),this.stepButton.onclick=this.manualStep.bind(this),this.runTypeSelect=document.getElementById("runType"),this.runTypeSelect.onchange=this.runTypeChange.bind(this),this.algorithmSelect=document.getElementById("algorithm"),this.inputX=document.getElementById("inputX"),this.inputX.onchange=this.validate.bind(this),this.predefinedStatesSelect=document.getElementById("predefinedStates"),this.predefinedStatesSelect.onchange=this.predefinedStatesChange.bind(this),this.statsDiv=document.getElementById("stats"),this.createPredefinedStatesOptions(),this.createEntryInputs(),this.validate(),this.createVisualizationDivs()}static createPredefinedStatesOptions(){var e=o.PredefinedStates.getStates();for(let t=0;t<e.length;t++){var s=e[t];const i=document.createElement("option");i.value=s.name,i.innerText=s.name,this.predefinedStatesSelect.appendChild(i)}}static createEntryInputs(){const t=document.getElementById("inputBoxes");for(let s=0;s<9;s++){const i=document.createElement("div");i.classList.add("row");let e=document.createElement("div");e.classList.add("verticalSection");for(let t=0;t<9;t++){const n=document.createElement("input");n.type="number",n.id=`i-${s}-${t}`,n.min="1",n.max="9",n.onkeyup=this.validate.bind(this),e.appendChild(n),2!==t&&5!==t||(i.appendChild(e),e=document.createElement("div"),e.classList.add("verticalSection"))}if(i.appendChild(e),t.appendChild(i),2===s||5===s){const a=document.createElement("div");a.classList.add("horizontalSection"),t.appendChild(a)}}}static validate(){const s=["1","2","3","4","5","6","7","8","9",""];for(let e=0;e<9;e++)for(let t=0;t<9;t++){var i=`i-${e}-${t}`,i=document.getElementById(i);if(!s.includes(i.value))return void(this.startButton.disabled=!0)}Number(this.inputX.value)<=0&&"manual"!==this.runTypeSelect.value?this.startButton.disabled=!0:this.startButton.disabled=!1}static createVisualizationDivs(){const t=document.getElementById("visualizationBoxes");for(let s=0;s<9;s++){const i=document.createElement("div");i.classList.add("row");let e=document.createElement("div");e.classList.add("verticalSection");for(let t=0;t<9;t++){const n=document.createElement("div");n.id=`v-${s}-${t}`,n.classList.add("vCell"),e.appendChild(n),2!==t&&5!==t||(i.appendChild(e),e=document.createElement("div"),e.classList.add("verticalSection"))}if(i.appendChild(e),t.appendChild(i),2===s||5===s){const a=document.createElement("div");a.classList.add("horizontalSection"),t.appendChild(a)}}}static predefinedStatesChange(){var e=this.predefinedStatesSelect.value,s=o.PredefinedStates.getStates();let i=null;for(let t=0;t<s.length;t++)if(s[t].name===e){i=s[t];break}null==i&&(i={name:"Empty",state:new d.SudokuState});for(let e=0;e<9;e++)for(let t=0;t<9;t++){var n=`i-${e}-${t}`;const a=document.getElementById(n),l=i.state.cells[e][t].value;null!=l?a.value=l.toString():a.value=""}this.validate()}static getAlgorithm(){return new("depthFirst"===this.algorithmSelect.value?i.DepthFirst:n.BreadthFirst)}static runTypeChange(){var t;"manual"===this.runTypeSelect.value?null!==(t=this.inputX.parentElement)&&void 0!==t&&t.classList.add("displayNone"):null!==(t=this.inputX.parentElement)&&void 0!==t&&t.classList.remove("displayNone"),this.validate()}static start(){this.startButton.classList.add("displayNone"),null!==(e=this.runTypeSelect.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=this.inputX.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=this.predefinedStatesSelect.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=this.algorithmSelect.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=null===(e=document.getElementById("inputBoxes"))||void 0===e?void 0:e.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=document.getElementById("visualization"))&&void 0!==e&&e.classList.remove("displayNone"),null!==(e=document.getElementById("textOutput"))&&void 0!==e&&e.classList.remove("displayNone");const s=new d.SudokuState;for(let e=0;e<9;e++)for(let t=0;t<9;t++){var i=`i-${e}-${t}`,i=document.getElementById(i);""!==i.value&&s.setInitialValue(t,e,Number(i.value))}this.initialDraw(s);const t=document.getElementById("runType").value;var e=t[0].toUpperCase()+t.slice(1,t.length);this.algorithm=this.getAlgorithm();let n=`Algorithm: <span class="val">${this.algorithm.name}</span><br/>`;n+=`Run type: <span class="val">${e}</span>`;let a;"manual"===t?a=1:(a=Number(this.inputX.value),n+="<br/>","autoStepDelay"===t?n+=`Delay <span class="val">${a}ms</span> after every step`:n+=`Delay 1ms, after doing <span class="val">${a}</span> steps`);const l=document.getElementById("runParams");l.innerHTML=n,this.solvingLogic(s,t,a)}static solvingLogic(i,n,a){return l(this,void 0,void 0,function*(){if(this.startTime=new Date,this.algorithm.setup(i),"autoStepDelay"===n)for(var t,e=a;t=this.algorithm.step(),this.stepCount++,this.draw(t),yield this.delay(e),!(t.isSolved&&t.action===r.StepAction.Assigned||this.algorithm.givenUp););else if("autoStepGroupDraw"===n){var s=a;let t=0,e;for(;e=this.algorithm.step(),this.stepCount++,t++,t===s&&(t=0,this.draw(e),yield this.delay(1)),!(e.isSolved&&e.action===r.StepAction.Assigned||this.algorithm.givenUp););this.draw(e)}else"manual"===n&&this.stepButton.classList.remove("displayNone")})}static manualStep(){this.stepButton.disabled=!0;var t=this.algorithm.step();this.stepCount++,this.draw(t),t.isSolved||this.algorithm.givenUp?alert("End"):this.stepButton.disabled=!1}static draw(s){for(let e=0;e<9;e++)for(let t=0;t<9;t++){var i=`v-${e}-${t}`;const l=document.getElementById(i),d=s.cells[e][t];null==d.value?l.innerText="":l.innerText=d.value.toString(),d.locked?l.classList.add("locked"):l.classList.remove("locked"),l.classList.remove("assigned"),l.classList.remove("failedToAssign")}if(null!=s.lastActionedCell){var t=`v-${s.lastActionedCell.y}-${s.lastActionedCell.x}`;const o=document.getElementById(t);s.action===r.StepAction.Assigned?o.classList.add("assigned"):o.classList.add("failedToAssign")}const e=new Date;t=Math.round((e.getTime()-this.startTime.getTime())/10)/100;let n=`Steps: <span class="val">${this.stepCount}</span><br/>`;n+=`Duration: <span class="val">${t}s</span>`;for(let t=0;t<s.stats.length;t++){var a=s.stats[t];n+=`<br/>${a.name}: <span class="val">${a.value}</span>`}this.statsDiv.innerHTML=n}static initialDraw(s){for(let e=0;e<9;e++)for(let t=0;t<9;t++){var i=`v-${e}-${t}`;const n=document.getElementById(i),a=s.cells[e][t];null!=a.value&&(n.innerText=a.value.toString()),a.locked&&n.classList.add("locked")}}static delay(e){return l(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(()=>t(1),e))})}}a.stepCount=0,a.initialize()},{"./shared/algorithms/breadth-first":void 0,"./shared/algorithms/depth-first":void 0,"./shared/enums":void 0,"./shared/predefined-states":void 0,"./shared/sudoku-state":void 0}]},{},[1]);