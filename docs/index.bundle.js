!function i(n,a,l){function o(e,t){if(!a[e]){if(!n[e]){var s="function"==typeof require&&require;if(!t&&s)return s(e,!0);if(r)return r(e,!0);throw(s=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",s}s=a[e]={exports:{}},n[e][0].call(s.exports,function(t){return o(n[e][1][t]||t)},s,s.exports,i,n,a,l)}return a[e].exports}for(var r="function"==typeof require&&require,t=0;t<l.length;t++)o(l[t]);return o}({1:[function(t,e,s){"use strict";var l=this&&this.__awaiter||function(t,l,o,r){return new(o=o||Promise)(function(s,e){function i(t){try{a(r.next(t))}catch(t){e(t)}}function n(t){try{a(r.throw(t))}catch(t){e(t)}}function a(t){var e;t.done?s(t.value):((e=t.value)instanceof o?e:new o(function(t){t(e)})).then(i,n)}a((r=r.apply(t,l||[])).next())})};Object.defineProperty(s,"__esModule",{value:!0});const o=t("./shared/sudoku-state"),i=t("./shared/algorithms/depth-first"),d=t("./shared/enums"),r=t("./shared/predefined-states"),n=t("./shared/algorithms/breadth-first"),a=t("./shared/algorithms/logical");class c{static initialize(){this.startButton=document.getElementById("startButton"),this.startButton.onclick=this.start.bind(this),this.resetButton=document.getElementById("resetButton"),this.resetButton.onclick=this.reset.bind(this),this.stepButton=document.getElementById("stepButton"),this.stepButton.onclick=this.manualStep.bind(this),this.runTypeSelect=document.getElementById("runType"),this.runTypeSelect.onchange=this.runTypeChange.bind(this),this.algorithmSelect=document.getElementById("algorithm"),this.inputX=document.getElementById("inputX"),this.inputX.onchange=this.validate.bind(this),this.predefinedStatesSelect=document.getElementById("predefinedStates"),this.predefinedStatesSelect.onchange=this.predefinedStatesChange.bind(this),this.statsDiv=document.getElementById("stats"),this.runForeverStatsDiv=document.getElementById("runForeverStats"),this.runForeverCheckbox=document.getElementById("runForeverCheckbox"),this.createPredefinedStatesOptions(),this.createEntryInputs(),this.validate(),this.createVisualizationDivs()}static createPredefinedStatesOptions(){var e=r.PredefinedStates.getStates();for(let t=0;t<e.length;t++){var s=e[t];const i=document.createElement("option");i.value=s.name,i.innerText=s.name,this.predefinedStatesSelect.appendChild(i)}}static createEntryInputs(){const t=document.getElementById("inputBoxes");for(let s=0;s<9;s++){const i=document.createElement("div");i.classList.add("row");let e=document.createElement("div");e.classList.add("verticalSection");for(let t=0;t<9;t++){const n=document.createElement("input");n.type="number",n.id=`i-${s}-${t}`,n.min="1",n.max="9",n.onkeyup=this.validate.bind(this),e.appendChild(n),2!==t&&5!==t||(i.appendChild(e),e=document.createElement("div"),e.classList.add("verticalSection"))}if(i.appendChild(e),t.appendChild(i),2===s||5===s){const a=document.createElement("div");a.classList.add("horizontalSection"),t.appendChild(a)}}}static validate(){const s=["1","2","3","4","5","6","7","8","9",""];for(let e=0;e<9;e++)for(let t=0;t<9;t++){var i=`i-${e}-${t}`,i=document.getElementById(i);if(!s.includes(i.value))return void(this.startButton.disabled=!0)}Number(this.inputX.value)<=0&&"manual"!==this.runTypeSelect.value?this.startButton.disabled=!0:this.startButton.disabled=!1}static createVisualizationDivs(){const t=document.getElementById("visualizationBoxes");for(let s=0;s<9;s++){const i=document.createElement("div");i.classList.add("row");let e=document.createElement("div");e.classList.add("verticalSection");for(let t=0;t<9;t++){const n=document.createElement("div");n.id=`v-${s}-${t}`,n.classList.add("vCell"),e.appendChild(n),2!==t&&5!==t||(i.appendChild(e),e=document.createElement("div"),e.classList.add("verticalSection"))}if(i.appendChild(e),t.appendChild(i),2===s||5===s){const a=document.createElement("div");a.classList.add("horizontalSection"),t.appendChild(a)}}}static predefinedStatesChange(){var e=this.predefinedStatesSelect.value,s=r.PredefinedStates.getStates();let i=null;for(let t=0;t<s.length;t++)if(s[t].name===e){i=s[t];break}null==i&&(i={name:"Empty",state:new o.SudokuState});for(let e=0;e<9;e++)for(let t=0;t<9;t++){var n=`i-${e}-${t}`;const a=document.getElementById(n),l=i.state.cells[e][t].value;null!=l?a.value=l.toString():a.value=""}this.validate()}static getAlgorithm(){var t=this.algorithmSelect.value;return new("depthFirst"===t?i.DepthFirst:"breadthFirst"===t?n.BreadthFirst:a.Logical)}static runTypeChange(){var t;"manual"===this.runTypeSelect.value?(null!==(t=this.inputX.parentElement)&&void 0!==t&&t.classList.add("displayNone"),this.runForeverCheckbox.checked=!1,null!==(t=this.runForeverCheckbox.parentElement)&&void 0!==t&&t.classList.add("displayNone")):(null!==(t=this.inputX.parentElement)&&void 0!==t&&t.classList.remove("displayNone"),null!==(t=this.runForeverCheckbox.parentElement)&&void 0!==t&&t.classList.remove("displayNone")),this.validate()}static reset(){var t;this.startButton.classList.remove("displayNone"),null!==(t=this.runTypeSelect.parentElement)&&void 0!==t&&t.classList.remove("displayNone"),null!==(t=this.inputX.parentElement)&&void 0!==t&&t.classList.remove("displayNone"),null!==(t=this.predefinedStatesSelect.parentElement)&&void 0!==t&&t.classList.remove("displayNone"),null!==(t=this.algorithmSelect.parentElement)&&void 0!==t&&t.classList.remove("displayNone"),null!==(t=this.runForeverCheckbox.parentElement)&&void 0!==t&&t.classList.remove("displayNone"),null!==(t=null===(t=document.getElementById("inputBoxes"))||void 0===t?void 0:t.parentElement)&&void 0!==t&&t.classList.remove("displayNone"),null!==(t=document.getElementById("visualization"))&&void 0!==t&&t.classList.add("displayNone"),null!==(t=document.getElementById("textOutput"))&&void 0!==t&&t.classList.add("displayNone"),this.resetButton.classList.add("displayNone"),null!==(t=this.runForeverStatsDiv.parentElement)&&void 0!==t&&t.classList.add("displayNone"),this.runForeverCheckbox.checked=!1,this.runForeverStatsDiv.innerHTML="",this.statsDiv.innerHTML="",this.algorithmSelect.value="depthFirst",this.predefinedStatesSelect.value="default",this.runTypeSelect.value="autoStepDelay";for(let e=this.stepCount=0;e<9;e++)for(let t=0;t<9;t++){var s=`i-${e}-${t}`;const i=document.getElementById(s);i.value=""}this.resetRequested=!0}static start(){this.startButton.classList.add("displayNone"),null!==(e=this.runTypeSelect.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=this.inputX.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=this.predefinedStatesSelect.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=this.algorithmSelect.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=this.runForeverCheckbox.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=null===(e=document.getElementById("inputBoxes"))||void 0===e?void 0:e.parentElement)&&void 0!==e&&e.classList.add("displayNone"),null!==(e=document.getElementById("visualization"))&&void 0!==e&&e.classList.remove("displayNone"),null!==(e=document.getElementById("textOutput"))&&void 0!==e&&e.classList.remove("displayNone"),this.resetButton.classList.remove("displayNone");const s=new o.SudokuState;for(let e=0;e<9;e++)for(let t=0;t<9;t++){var i=`i-${e}-${t}`,i=document.getElementById(i);""!==i.value&&s.setInitialValue(t,e,Number(i.value))}this.initialDraw(s);const t=document.getElementById("runType").value;var e=t[0].toUpperCase()+t.slice(1,t.length);this.algorithm=this.getAlgorithm();let n=`Algorithm: <span class="val">${this.algorithm.name}</span><br/>`;n+=`Run type: <span class="val">${e}</span>`;let a;"manual"===t?a=1:(a=Number(this.inputX.value),n+="<br/>","autoStepDelay"===t?n+=`Delay <span class="val">${a}ms</span> after every step`:n+=`Delay 1ms, after doing <span class="val">${a}</span> steps`);const l=document.getElementById("runParams");l.innerHTML=n,this.resetRequested=!1,this.runForeverCheckbox.checked?this.runForever(s,t,a):this.solvingLogic(s,t,a)}static runForever(d,c,u){var e;return l(this,void 0,void 0,function*(){null!==(e=this.runForeverStatsDiv.parentElement)&&void 0!==e&&e.classList.remove("displayNone");const n=[];let t=0;for(;!this.resetRequested;){const o=new Date;this.algorithm=this.getAlgorithm(),yield this.solvingLogic(d,c,u),t+=this.stepCount,this.stepCount=0;const r=new Date;var a=Math.round(r.getTime()-o.getTime())/1e3;n.push(a);let e=0,s=n[0],i=0;for(let t=0;t<n.length;t++)n[t]>e&&(e=n[t]),n[t]<s&&(s=n[t]),i+=n[t];var l=Math.round(i/n.length*1e3)/1e3,a=`Amount of runs: <span class="val">${n.length}</span><br/>`;a+=`Average run time: <span class="val">${l}s</span><br/>`,a+=`Longest run time: <span class="val">${e}s</span><br/>`,a+=`Shortest run time: <span class="val">${s}s</span><br/>`,a+=`Total steps: <span class="val">${t}</span>`,this.runForeverStatsDiv.innerHTML=a}})}static solvingLogic(i,n,a){return l(this,void 0,void 0,function*(){if(this.startTime=new Date,this.algorithm.setup(i),"autoStepDelay"===n)for(var t,e=a;t=this.algorithm.step(),this.stepCount++,this.draw(t),yield this.delay(e),!(t.isSolved&&t.action===d.StepAction.Assigned||this.algorithm.givenUp||this.resetRequested););else if("autoStepGroupDraw"===n){var s=a;let t=0,e;for(;e=this.algorithm.step(),this.stepCount++,t++,t===s&&(t=0,this.draw(e),yield this.delay(1)),!(e.isSolved&&e.action===d.StepAction.Assigned||this.algorithm.givenUp||this.resetRequested););this.draw(e)}else"manual"===n&&this.stepButton.classList.remove("displayNone")})}static manualStep(){this.stepButton.disabled=!0;var t=this.algorithm.step();this.stepCount++,this.draw(t),t.isSolved||this.algorithm.givenUp?alert("End"):this.stepButton.disabled=!1}static draw(s){for(let e=0;e<9;e++)for(let t=0;t<9;t++){var i=`v-${e}-${t}`;const l=document.getElementById(i),o=s.cells[e][t];null==o.value?l.innerText="":l.innerText=o.value.toString(),o.locked?l.classList.add("locked"):l.classList.remove("locked"),l.classList.remove("assigned"),l.classList.remove("failedToAssign"),l.classList.remove("logicalFoundOption"),l.classList.remove("logicalFoundSecondOption")}if(null!=s.lastActionedCell){var t=`v-${s.lastActionedCell.y}-${s.lastActionedCell.x}`;const r=document.getElementById(t);s.action===d.StepAction.Assigned?r.classList.add("assigned"):s.action===d.StepAction.FailedToAssign?r.classList.add("failedToAssign"):s.action===d.StepAction.LogicalFoundOption?r.classList.add("logicalFoundOption"):s.action===d.StepAction.LogicalFoundSecondOption&&r.classList.add("logicalFoundSecondOption")}const e=new Date;t=Math.round(e.getTime()-this.startTime.getTime())/1e3;let n=`Steps: <span class="val">${this.stepCount}</span><br/>`;n+=`Duration: <span class="val">${t}s</span>`;for(let t=0;t<s.stats.length;t++){var a=s.stats[t];n+=`<br/>${a.name}: <span class="val">${a.value}</span>`}this.statsDiv.innerHTML=n}static initialDraw(s){for(let e=0;e<9;e++)for(let t=0;t<9;t++){var i=`v-${e}-${t}`;const n=document.getElementById(i),a=s.cells[e][t];null!=a.value&&(n.innerText=a.value.toString()),a.locked&&n.classList.add("locked")}}static delay(e){return l(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(()=>t(1),e))})}}c.stepCount=0,c.resetRequested=!1,c.initialize()},{"./shared/algorithms/breadth-first":void 0,"./shared/algorithms/depth-first":void 0,"./shared/algorithms/logical":void 0,"./shared/enums":void 0,"./shared/predefined-states":void 0,"./shared/sudoku-state":void 0}]},{},[1]);